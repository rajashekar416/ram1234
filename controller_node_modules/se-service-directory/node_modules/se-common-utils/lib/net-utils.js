(function() {
  var getNetworkAddress, logger, os, util;

  util = require('util');

  os = require('os');

  if (typeof logger === "undefined" || logger === null) {
    logger = require('winston');
  }

  getNetworkAddress = function() {
    var alias, devName, i, iface, interfaces;
    interfaces = os.networkInterfaces();
    for (devName in interfaces) {
      iface = interfaces[devName];
      i = 0;
      while (i < iface.length) {
        alias = iface[i];
        if (alias.family === "IPv4" && alias.address !== "127.0.0.1" && !alias.internal) {
          return alias.address;
        }
        i++;
      }
    }
    return "0.0.0.0";
  };

  module.exports = {
    getNetworkAddress: getNetworkAddress
  };

}).call(this);
