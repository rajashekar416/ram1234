'use strict';

var grunt = require('grunt');
require('load-grunt-tasks')(grunt);

var OUTPUT_DIR = 'lib';
var REPORT_DIR = 'test-reports';

grunt.initConfig({
  mochaTest: {
    test: {
      options: {
        reporter: 'spec',
        captureFile: REPORT_DIR + '/results.txt',
        quiet: false,
        clearRequireCache: false
      },
      src: ['test/**/*.js']
    }
  },
  jshint: {
    options: { jshintrc: true },
    files: {
      src: ['*.js']
    }
  },
  jscs: {
    src: '*.js',
    options: {
      config: '.jscsrc'
    }
  },
  clean: {
    dist : [OUTPUT_DIR, REPORT_DIR]
  },
  availabletasks: {
    tasks : { }
  }

});

grunt.registerTask('lint', ['jshint', 'jscs']);
grunt.registerTask('test', ['lint', 'mochaTest']);
